<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>freeteens</title>
  <meta name="generator" content="WYSIWYG Web Builder 18 - https://www.wysiwygwebbuilder.com">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #000;
      color: #fff;
    }

    #container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    #takeTest {
      color: yellow;
      font-size: 24px;
      margin: 20px 0;
    }

    #instructions {
      color: red;
      font-size: 20px;
      margin: 10px 0;
      display: none;
    }

    #getOffer {
      color: white;
      font-size: 18px;
      margin: 10px 0;
    }

    img {
      max-width: 100%;
      height: auto;
      cursor: pointer;
    }

    #startButton {
      background-color: yellow;
      color: black;
      font-size: 20px;
      font-weight: bold;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }

    #startButton:hover {
      background-color: orange;
    }

    /* Всплывающее окно */
    #popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      text-align: center;
      z-index: 9999; /* Чтобы окно было поверх всего */
    }

    #popupButton {
      background-color: yellow;
      color: black;
      font-size: 18px;
      font-weight: bold;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }

    #popupButton:hover {
      background-color: orange;
    }

    /* Увеличенный текст для мобильной версии */
    @media (max-width: 600px) {
      #takeTest {
        font-size: 24px;
      }

      #instructions {
        font-size: 16px;
      }

      #getOffer {
        font-size: 20px;
      }

      #startButton {
        font-size: 16px;
      }
    }
  </style>
  <script>
    // Переводы для Tier 1, 2 и 3 языков
    const translations = {
      en: {
        takeTest: "TAKE A SHORT TEST",
        instructions: "THE VIDEO WILL RUN AFTER THE TEST.",
        getOffer: "The video will start automatically on the “Thank You!” page.",
        startButton: "START TEST",
        popupTitle: "DON'T SLEEP, WATCH!",
        popupButton: "BONUS",
        bonusLink: "https://sites.google.com/view/xbonuses/x"
      },
      ru: {
        takeTest: "ПРОЙДИТЕ КОРОТКИЙ ТЕСТ",
        instructions: "ВИДЕО ЗАПУСТИТСЯ ПОСЛЕ ТЕСТА.",
        getOffer: "Видео начнётся автоматически на странице «Спасибо!».",
        startButton: "НАЧАТЬ ТЕСТ",
        popupTitle: "НЕ СПИШИ, СМОТРИ!",
        popupButton: "БОНУС",
        bonusLink: "https://sites.google.com/view/xbonuses/x"
      },
      // Добавить остальные переводы...
    };

    // Функция для получения языка из локали браузера
    function getLanguage() {
      const lang = navigator.language || navigator.userLanguage;
      return lang.split('-')[0];
    }

    // Функция для применения перевода на текущем языке
    function applyTranslation() {
      const language = getLanguage();
      const trans = translations[language] || translations.en;

      document.getElementById('takeTest').innerText = trans.takeTest;
      document.getElementById('instructions').innerText = trans.instructions;
      document.getElementById('getOffer').innerText = trans.getOffer;
      document.getElementById('startButton').innerText = trans.startButton;

      const popup = document.getElementById('popup');
      popup.querySelector('h2').innerText = trans.popupTitle;
      popup.querySelector('#popupButton').innerText = trans.popupButton;

      // Добавляем ссылку на кнопку "Bonus"
      document.getElementById('popupButton').onclick = function() {
        window.location.href = trans.bonusLink;
      };

      // Редирект по типу устройства
      document.getElementById('startButton').onclick = function() {
        redirectToDeviceLink();
      };

      document.getElementById('Image2').onclick = function() {
        redirectToDeviceLink();
      };
    }

    // Редирект по типу устройства
    function redirectToDeviceLink() {
      const androidLink = "https://tichairg.com/link?z=6962446&var={SOURCE_ID}&ymid={CLICK_ID}";
      const iosLink = "https://tichairg.com/link?z=5753412&var={SOURCE_ID}&ymid={CLICK_ID}";
      const desktopLink = "https://tichairg.com/link?z=6488869&var={SOURCE_ID}&ymid={CLICK_ID}";

      if (/Android/i.test(navigator.userAgent)) {
        window.open(androidLink, "_blank");
      } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
        window.open(iosLink, "_blank");
      } else {
        window.open(desktopLink, "_blank");
      }
    }

    // Показываем всплывающее окно при попытке покинуть страницу
    window.onbeforeunload = function(event) {
      const popup = document.getElementById('popup');
      popup.style.display = 'block';  // Показать окно

      // Останавливаем стандартное поведение (покидание страницы)
      event.preventDefault();
      return event.returnValue = "Are you sure you want to leave?";
    };

    // Скрытие всплывающего окна при нажатии на кнопку "Bonus"
    function closePopup() {
      document.getElementById('popup').style.display = 'none';
    }

    window.onload = function() {
      applyTranslation();
    };
  </script>
</head>
<body>
  <div id="container">
    <div id="wb_Text1">
      <p id="takeTest">TAKE A SHORT TEST</p>
    </div>
    <div>
      <img src="images/test2.png" id="Image2" alt="Test Image">
    </div>
    <div>
      <img src="images/xvideo.png" id="Image3" alt="Video Image">
    </div>
    <div>
      <p id="instructions">THE VIDEO WILL RUN AFTER THE TEST.</p>
      <p id="getOffer">The video will start automatically on the “Thank You!” page.</p>
    </div>
    <button id="startButton">START TEST</button>

    <!-- Всплывающее окно -->
    <div id="popup">
      <h2></h2>
      <button id="popupButton"></button>
    </div>
  </div>
</body>
</html>
